<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SessionStorage Form Restore</title>
  <style>
      body {
      text-align: center;
      margin-top: 50px;
    }
  </style>

</head>
<body>

  <h2> User Form (SessionStorage)</h2>

  <form id="userForm">
    <input type="text" id="name" placeholder="Your name"><br><br>
    <input type="email" id="email" placeholder="Your email"><br><br>
    <textarea id="message" placeholder="Your message"></textarea><br><br>
    <button type="submit">Submit</button>
  </form>

  <script>
    const nameInput = document.getElementById('name');
    const emailInput = document.getElementById('email');
    const messageInput = document.getElementById('message');

    // Restore values from sessionStorage on page load
    window.onload = () => {
      nameInput.value = sessionStorage.getItem('name') || "";
      emailInput.value = sessionStorage.getItem('email') || "";
      messageInput.value = sessionStorage.getItem('message') || "";
    };

    // Save inputs to sessionStorage as user types
    nameInput.addEventListener('input', () => {
      sessionStorage.setItem('name', nameInput.value);
    });

    emailInput.addEventListener('input', () => {
      sessionStorage.setItem('email', emailInput.value);
    });

    messageInput.addEventListener('input', () => {
      sessionStorage.setItem('message', messageInput.value);
    });


    document.getElementById("userForm").addEventListener("submit", function(e) {
      e.preventDefault();
      alert("Submitted! (But data is still in sessionStorage)");
      // sessionStorage.clear(); 
    });
  </script>
<script>
  const currentURL = window.location.href;
  const lastVisited = localStorage.getItem("lastURL");

  // Display current and last visited URLs
  window.addEventListener("DOMContentLoaded", () => {
    // Show current URL (optional)
    const currentSpan = document.getElementById("currentUrl");
    if (currentSpan) currentSpan.innerText = currentURL;

    // Show last visited URL
    const lastSpan = document.getElementById("lastPage");
    if (lastSpan) {
      if (lastVisited && lastVisited !== currentURL) {
        lastSpan.innerText = " Last visited: " + lastVisited;
      } else {
        lastSpan.innerText = "Welcome! This is your first visit.";
      }
    }
  });

  // Save this page as last visited
  localStorage.setItem("lastURL", currentURL);
</script>

</body>
</html>
